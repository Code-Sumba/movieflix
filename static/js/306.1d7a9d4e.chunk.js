"use strict";(self.webpackChunkmovieflix_frontend=self.webpackChunkmovieflix_frontend||[]).push([[306],{6306:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var a=s(5043),i=s(5475),l=s(579);const n=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[r,d]=(0,a.useState)(""),[c,o]=(0,a.useState)(null),[h,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{n(!0);try{const e=[{id:1,title:"The Shawshank Redemption",year:1994,poster:"/placeholder.jpg",status:"active"},{id:2,title:"The Godfather",year:1972,poster:"/placeholder.jpg",status:"active"},{id:3,title:"The Dark Knight",year:2008,poster:"/placeholder.jpg",status:"active"},{id:4,title:"The Godfather Part II",year:1974,poster:"/placeholder.jpg",status:"inactive"},{id:5,title:"Pulp Fiction",year:1994,poster:"/placeholder.jpg",status:"active"}];setTimeout((()=>{t(e),n(!1)}),500)}catch(r){console.error("Error fetching movies:",r),d("Failed to load movies. Please try again."),n(!1)}})()}),[]);const j=()=>{m(!1),o(null)};return s?(0,l.jsxs)("div",{className:"container mt-5",children:[(0,l.jsx)("h2",{children:"Loading movies..."}),(0,l.jsx)("div",{className:"spinner-border",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]}):r?(0,l.jsx)("div",{className:"container mt-5",children:(0,l.jsx)("div",{className:"alert alert-danger",children:r})}):(0,l.jsxs)("div",{className:"container mt-4",children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,l.jsx)("h2",{children:"Manage Movies"}),(0,l.jsx)(i.N_,{to:"/admin/movies/add",className:"btn btn-primary",children:"Add New Movie"})]}),0===e.length?(0,l.jsx)("p",{children:"No movies found. Add some movies to get started."}):(0,l.jsx)("div",{className:"table-responsive",children:(0,l.jsxs)("table",{className:"table table-striped table-hover",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"ID"}),(0,l.jsx)("th",{children:"Poster"}),(0,l.jsx)("th",{children:"Title"}),(0,l.jsx)("th",{children:"Year"}),(0,l.jsx)("th",{children:"Status"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsx)("tbody",{children:e.map((e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.id}),(0,l.jsx)("td",{children:(0,l.jsx)("img",{src:e.poster,alt:e.title,style:{width:"50px",height:"70px",objectFit:"cover"},onError:e=>{e.target.src="/placeholder.jpg"}})}),(0,l.jsx)("td",{children:e.title}),(0,l.jsx)("td",{children:e.year}),(0,l.jsx)("td",{children:(0,l.jsx)("span",{className:"badge "+("active"===e.status?"bg-success":"bg-secondary"),children:e.status})}),(0,l.jsx)("td",{children:(0,l.jsxs)("div",{className:"btn-group",role:"group",children:[(0,l.jsx)(i.N_,{to:`/admin/movies/edit/${e.id}`,className:"btn btn-sm btn-primary",children:"Edit"}),(0,l.jsx)("button",{onClick:()=>{return t=e.id,o(t),void m(!0);var t},className:"btn btn-sm btn-danger",children:"Delete"})]})})]},e.id)))})]})}),h&&(0,l.jsx)("div",{className:"modal d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,l.jsx)("div",{className:"modal-dialog",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h5",{className:"modal-title",children:"Confirm Delete"}),(0,l.jsx)("button",{type:"button",className:"btn-close",onClick:j})]}),(0,l.jsx)("div",{className:"modal-body",children:(0,l.jsx)("p",{children:"Are you sure you want to delete this movie? This action cannot be undone."})}),(0,l.jsxs)("div",{className:"modal-footer",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:j,children:"Cancel"}),(0,l.jsx)("button",{type:"button",className:"btn btn-danger",onClick:async()=>{try{await new Promise((e=>setTimeout(e,500))),t((e=>e.filter((e=>e.id!==c))))}catch(r){console.error("Error deleting movie:",r),d("Failed to delete movie. Please try again.")}finally{m(!1),o(null)}},children:"Delete"})]})]})})})]})}}}]);
//# sourceMappingURL=306.1d7a9d4e.chunk.js.map
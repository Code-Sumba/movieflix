"use strict";(self.webpackChunkmovieflix_frontend=self.webpackChunkmovieflix_frontend||[]).push([[763],{8763:(e,r,a)=>{a.r(r),a.d(r,{default:()=>i});var s=a(5043),t=a(3216),l=a(579);const i=()=>{const{id:e}=(0,t.g)(),r=(0,t.Zp)(),[a,i]=(0,s.useState)({title:"",description:"",releaseYear:"",duration:"",genre:"",director:"",cast:"",posterUrl:"",trailerUrl:""}),[n,o]=(0,s.useState)(!0),[c,d]=(0,s.useState)(!1),[m,h]=(0,s.useState)(""),[u,p]=(0,s.useState)({type:"",text:""});(0,s.useEffect)((()=>{(async()=>{o(!0);try{const r={id:parseInt(e),title:"Sample Movie",description:"This is a sample movie description. It tells the story of a fictional character in a fictional world.",releaseYear:2022,duration:120,genre:"Drama, Action",director:"Jane Director",cast:"Actor One, Actor Two, Actor Three",posterUrl:"https://via.placeholder.com/300x450",trailerUrl:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"};setTimeout((()=>{i(r),o(!1)}),500)}catch(m){console.error("Error fetching movie details:",m),h("Failed to load movie details. Please try again."),o(!1)}})()}),[e]);const x=e=>{const{name:r,value:a}=e.target;i((e=>({...e,[r]:a})))};return n?(0,l.jsxs)("div",{className:"container mt-4",children:[(0,l.jsx)("h2",{children:"Loading movie details..."}),(0,l.jsx)("div",{className:"spinner-border",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]}):m?(0,l.jsxs)("div",{className:"container mt-4",children:[(0,l.jsx)("div",{className:"alert alert-danger",children:m}),(0,l.jsx)("button",{className:"btn btn-primary",onClick:()=>r("/admin/movies"),children:"Back to Movies"})]}):(0,l.jsxs)("div",{className:"container mt-4",children:[(0,l.jsxs)("h2",{children:["Edit Movie: ",a.title]}),u.text&&(0,l.jsx)("div",{className:`alert alert-${u.type}`,children:u.text}),(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0),p({type:"",text:""});try{await new Promise((e=>setTimeout(e,1e3))),p({type:"success",text:`Movie "${a.title}" has been updated successfully!`})}catch(m){console.error("Error updating movie:",m),p({type:"danger",text:"Failed to update movie. Please try again."})}finally{d(!1)}},children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),(0,l.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:a.title,onChange:x,required:!0})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),(0,l.jsx)("textarea",{className:"form-control",id:"description",name:"description",value:a.description,onChange:x,rows:"3",required:!0})]}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,l.jsx)("label",{htmlFor:"releaseYear",className:"form-label",children:"Release Year"}),(0,l.jsx)("input",{type:"number",className:"form-control",id:"releaseYear",name:"releaseYear",value:a.releaseYear,onChange:x,required:!0})]}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,l.jsx)("label",{htmlFor:"duration",className:"form-label",children:"Duration (minutes)"}),(0,l.jsx)("input",{type:"number",className:"form-control",id:"duration",name:"duration",value:a.duration,onChange:x,required:!0})]})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"genre",className:"form-label",children:"Genre"}),(0,l.jsx)("input",{type:"text",className:"form-control",id:"genre",name:"genre",value:a.genre,onChange:x,placeholder:"Action, Drama, Comedy, etc.",required:!0})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"director",className:"form-label",children:"Director"}),(0,l.jsx)("input",{type:"text",className:"form-control",id:"director",name:"director",value:a.director,onChange:x,required:!0})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"cast",className:"form-label",children:"Cast"}),(0,l.jsx)("input",{type:"text",className:"form-control",id:"cast",name:"cast",value:a.cast,onChange:x,placeholder:"Actor1, Actor2, Actor3, etc.",required:!0})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"posterUrl",className:"form-label",children:"Poster URL"}),(0,l.jsx)("input",{type:"url",className:"form-control",id:"posterUrl",name:"posterUrl",value:a.posterUrl,onChange:x,required:!0}),a.posterUrl&&(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("img",{src:a.posterUrl,alt:"Movie Poster Preview",style:{height:"150px"},onError:e=>{e.target.src="/placeholder.jpg"}})})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"trailerUrl",className:"form-label",children:"Trailer URL"}),(0,l.jsx)("input",{type:"url",className:"form-control",id:"trailerUrl",name:"trailerUrl",value:a.trailerUrl,onChange:x})]}),(0,l.jsxs)("div",{className:"d-flex gap-2",children:[(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Saving...":"Save Changes"}),(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{r("/admin/movies")},disabled:c,children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=763.8d7fa153.chunk.js.map